<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1049px" preserveAspectRatio="none" style="width:910px;height:1049px;" version="1.1" viewBox="0 0 910 1049" width="910px" zoomAndPan="magnify"><defs><filter height="300%" id="f18y5xhum4osqh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#FF0000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="166" x="732.5" y="9.668">Prototype of "Literate Code Maps"</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="95" x="803.5" y="21.4453">(c) Andy Bulka 2019</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="898.5" y="33.2227"/><!--MD5=[c045e12321b83266d36d22b9096c24ea]
class View--><rect fill="#FEFECE" filter="url(#f18y5xhum4osqh)" height="326.8789" id="View" style="stroke: #A80036; stroke-width: 1.5;" width="390" x="490.25" y="175.832"/><ellipse cx="667.5" cy="191.832" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M669.9731,197.9751 Q669.3921,198.2739 668.7529,198.4233 Q668.1138,198.5728 667.4082,198.5728 Q664.9014,198.5728 663.5815,196.9209 Q662.2617,195.269 662.2617,192.1479 Q662.2617,189.0186 663.5815,187.3667 Q664.9014,185.7148 667.4082,185.7148 Q668.1138,185.7148 668.7612,185.8643 Q669.4087,186.0137 669.9731,186.3125 L669.9731,189.0352 Q669.3423,188.4541 668.7488,188.1843 Q668.1553,187.9146 667.5244,187.9146 Q666.1797,187.9146 665.4949,188.9812 Q664.8101,190.0479 664.8101,192.1479 Q664.8101,194.2397 665.4949,195.3064 Q666.1797,196.373 667.5244,196.373 Q668.1553,196.373 668.7488,196.1033 Q669.3423,195.8335 669.9731,195.2524 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="688" y="196.3672">View</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="491.25" x2="879.25" y1="207.832" y2="207.832"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="496.25" y="222.4668">onKeyUp()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="496.25" y="235.4219">onClick()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="491.25" x2="879.25" y1="241.7422" y2="241.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="499.25" y="273.332"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="496.25" y="286.2871">Responsible for handling the clicl event.</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="496.25" y="299.2422">Calls</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="525.25" y="299.2422">GetShapeList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="606.25" y="299.2422">on the</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="643.25" y="299.2422">Diagram</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="694.25" y="299.2422">to get all the shapes, then iterates</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="496.25" y="312.1973">through them, checking each shape's parent.</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="499.25" y="325.1523"/><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="8" x="500.25" y="341.0078">..</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="209" x="500.25" y="357.4961">for shape in self.GetDiagram().</text><text fill="#4169E1" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="709.25" y="357.4961">GetShapeList()</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="4" x="812.25" y="357.4961">:</text><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9" x="828.25" y="357.4961">2</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="508.25" y="373.9844">if shape.</text><text fill="#4169E1" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="566.25" y="373.9844">GetParent()</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="650.25" y="373.9844">== None:</text><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9" x="724.25" y="373.9844">3</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="8" x="508.25" y="390.4727">..</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="499.25" y="404.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="491.25" x2="649.75" y1="256.2197" y2="256.2197"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="649.75" y="259.877">def</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="51" x="669.75" y="259.877">onClick()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="720.75" x2="879.25" y1="256.2197" y2="256.2197"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="499.25" y="433.9707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="496.25" y="446.9258">Handles the</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="562.25" y="446.9258">ESC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="586.25" y="446.9258">key being hit and switches the canvas</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="8" x="500.25" y="462.7813">..</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="161" x="500.25" y="479.2695">shape.SetCanvas(None)</text><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="9" x="669.25" y="479.2695">4</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="8" x="500.25" y="495.7578">..</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="491.25" x2="619.75" y1="416.8584" y2="416.8584"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="619.75" y="420.5156">def</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="49" x="639.75" y="420.5156">onKeyUp</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="62" x="688.75" y="420.5156">(self, event)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="750.75" x2="879.25" y1="416.8584" y2="416.8584"/><!--MD5=[426e75666daf533f17226ff4c87e20fd]
class Shape--><rect fill="#FEFECE" filter="url(#f18y5xhum4osqh)" height="255.0371" id="Shape" style="stroke: #A80036; stroke-width: 1.5;" width="238" x="565.25" y="661.832"/><ellipse cx="662.5" cy="677.832" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M664.9731,683.9751 Q664.3921,684.2739 663.7529,684.4233 Q663.1138,684.5728 662.4082,684.5728 Q659.9014,684.5728 658.5815,682.9209 Q657.2617,681.269 657.2617,678.1479 Q657.2617,675.0186 658.5815,673.3667 Q659.9014,671.7148 662.4082,671.7148 Q663.1138,671.7148 663.7612,671.8643 Q664.4087,672.0137 664.9731,672.3125 L664.9731,675.0352 Q664.3423,674.4541 663.7488,674.1843 Q663.1553,673.9146 662.5244,673.9146 Q661.1797,673.9146 660.4949,674.9812 Q659.8101,676.0479 659.8101,678.1479 Q659.8101,680.2397 660.4949,681.3064 Q661.1797,682.373 662.5244,682.373 Q663.1553,682.373 663.7488,682.1033 Q664.3423,681.8335 664.9731,681.2524 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="683" y="682.3672">Shape</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="566.25" x2="802.25" y1="693.832" y2="693.832"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="571.25" y="708.4668">canvas</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="571.25" y="721.4219">parent</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="566.25" x2="802.25" y1="727.7422" y2="727.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="571.25" y="742.377">SetCanvas()</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="571.25" y="755.332">GetParent()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="571.25" y="768.2871">SetBrush()</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="575.25" y="801.0977">...</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="575.25" y="817.5859">self.canvas = canvas</text><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="9" x="726.25" y="817.5859">4</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="575.25" y="834.0742">...</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="566.25" x2="633.75" y1="781.085" y2="781.085"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="633.75" y="784.7422">SetCanvas</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="689.75" y="784.7422">(canvas)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="734.75" x2="802.25" y1="781.085" y2="781.085"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="571.25" y="864.6172">Simply a reference to the</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="38" x="706.25" y="864.6172">.parent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="747.25" y="864.6172">property,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="571.25" y="877.5723">which is</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="28" x="617.25" y="877.5723">None</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="648.25" y="877.5723">if there is no parent.</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="575.25" y="893.4277">...</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="575.25" y="909.916">return self.parent</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="566.25" x2="653.75" y1="847.5049" y2="847.5049"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="653.75" y="851.1621">GetParent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="8" x="706.75" y="851.1621">()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="714.75" x2="802.25" y1="847.5049" y2="847.5049"/><!--MD5=[3aa24d568b15d87f2bab775901974235]
class Diagram--><rect fill="#FEFECE" filter="url(#f18y5xhum4osqh)" height="382.6094" id="Diagram" style="stroke: #A80036; stroke-width: 1.5;" width="459" x="6" y="597.832"/><ellipse cx="182.75" cy="616.9648" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M185.2231,623.1079 Q184.6421,623.4067 184.0029,623.5562 Q183.3638,623.7056 182.6582,623.7056 Q180.1514,623.7056 178.8315,622.0537 Q177.5117,620.4019 177.5117,617.2808 Q177.5117,614.1514 178.8315,612.4995 Q180.1514,610.8477 182.6582,610.8477 Q183.3638,610.8477 184.0112,610.9971 Q184.6587,611.1465 185.2231,611.4453 L185.2231,614.168 Q184.5923,613.5869 183.9988,613.3171 Q183.4053,613.0474 182.7744,613.0474 Q181.4297,613.0474 180.7449,614.114 Q180.0601,615.1807 180.0601,617.2808 Q180.0601,619.3726 180.7449,620.4392 Q181.4297,621.5059 182.7744,621.5059 Q183.4053,621.5059 183.9988,621.2361 Q184.5923,620.9663 185.2231,620.3853 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="201.25" y="614.4336">«lib.ogl._lines.py»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="227.25" y="628.5664">Diagram</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="464" y1="636.0977" y2="636.0977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="12" y="650.7324">shapes</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="7" x2="464" y1="657.0527" y2="657.0527"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="12" y="671.6875">GetShapeList()</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="12" y="684.6426">Render()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="12" y="697.5977">Clear()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="12" y="710.5527">Scan()</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="16" y="743.3633">...</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="16" y="759.8516">result = []</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="16" y="776.3398">for each shape in shapes:</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="215" x="36" y="789.9277">various filtering conditions, if succesful,</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="182" x="36" y="802.8828">shape gets appended to the result</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="16" y="818.7383">return result</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="15" y="832.3262"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="197" y1="723.3506" y2="723.3506"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="197" y="727.0078">GetShapeList()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="274" x2="464" y1="723.3506" y2="723.3506"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="136" x="12" y="862.2363">Create fresh visualisation</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="15" y="875.1914"/><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="294" x="16" y="891.0469">for node in self.displaymodel.graph.nodes:</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="20" y="907.5352">assert not node.shape</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="439" x="20" y="924.0234">if isinstance(node, CommentNode) or hasattr(node, "comment"):</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="284" x="36" y="940.5117">shape = self.createCommentShape(node)</text><text fill="#FF0000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="18" x="332" y="940.5117">22</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="20" y="957">else:</text><text fill="#4169E1" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="247" x="36" y="973.4883">shape = self.CreateUmlShape(node)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="212.5" y1="845.124" y2="845.124"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="212.5" y="848.7813">Render()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="258.5" x2="464" y1="845.124" y2="845.124"/><!--MD5=[527fedc8d6bd96cda1a741238be27956]
class Scenario1--><rect fill="#FEFECE" filter="url(#f18y5xhum4osqh)" height="54.2656" id="Scenario1" style="stroke: #A80036; stroke-width: 1.5;" width="261" x="555" y="43.332"/><ellipse cx="570" cy="62.4648" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M569.2334,63.5278 Q567.3823,62.8223 566.7266,62.0461 Q566.0708,61.27 566.0708,59.9585 Q566.0708,58.2734 567.1499,57.3105 Q568.229,56.3477 570.1133,56.3477 Q570.9683,56.3477 571.8232,56.5427 Q572.6782,56.7378 573.5166,57.1196 L573.5166,59.5103 Q572.728,58.9541 571.9146,58.6636 Q571.1011,58.373 570.3042,58.373 Q569.416,58.373 568.9429,58.73 Q568.4697,59.0869 568.4697,59.751 Q568.4697,60.2656 568.8142,60.6018 Q569.1587,60.938 570.2544,61.3447 L571.3086,61.7432 Q572.8027,62.291 573.5083,63.1958 Q574.2139,64.1006 574.2139,65.4785 Q574.2139,67.3545 573.1057,68.28 Q571.9976,69.2056 569.7563,69.2056 Q568.835,69.2056 567.9094,68.9856 Q566.9839,68.7656 566.1206,68.334 L566.1206,65.8022 Q567.1001,66.4995 568.0173,66.8398 Q568.9346,67.1802 569.8311,67.1802 Q570.7358,67.1802 571.2339,66.7693 Q571.7319,66.3584 571.7319,65.6196 Q571.7319,65.0635 571.3999,64.6443 Q571.0679,64.2251 570.437,63.9844 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="582" y="59.9336">«start here»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="588" y="74.0664">Scenario1</text><rect fill="#FFFFFF" height="16.1328" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="163" x="656" y="40.332"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="153" x="661" y="52.9336">when user clicks on button</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="556" x2="815" y1="81.5977" y2="81.5977"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="556" x2="815" y1="89.5977" y2="89.5977"/><path d="M224,318.832 L224,359.4531 L455,359.4531 L455,328.832 L445,318.832 L224,318.832 " fill="#FBFB77" filter="url(#f18y5xhum4osqh)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M445,318.832 L445,328.832 L455,328.832 L445,318.832 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="230" y="336.4004">The creation of a comment shape</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="230" y="351.7109">if a little different</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="349" y="351.7109">22</text><path d="M39,57.832 L39,83.1426 L448,83.1426 L448,67.832 L438,57.832 L39,57.832 " fill="#FBFB77" filter="url(#f18y5xhum4osqh)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M438,57.832 L438,67.832 L448,67.832 L438,57.832 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="388" x="45" y="75.4004">The list of shapes is kept in the diagram, which the view uses</text><!--MD5=[1ac7f5153b94ee666e8dd25952f3b3d9]
link Scenario1 to View--><path d="M685.25,97.419 C685.25,115.702 685.25,141.874 685.25,170.288 " fill="none" id="Scenario1-&gt;View" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="685.25,175.619,689.25,166.619,685.25,170.619,681.25,166.619,685.25,175.619" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="686.25" y="140.9004">1. onClick()</text><!--MD5=[6de50b06e906322a7729db337d0fc1a9]
link View to Diagram--><path d="M521.835,503.021 C492.119,532.605 460.85,563.734 430.329,594.12 " fill="none" id="View-&gt;Diagram" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="426.611,597.821,435.8112,594.3059,430.1544,594.2934,430.167,588.6365,426.611,597.821" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="488.25" y="547.4004">2. GetShapeList()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="520.25" y="562.7109">-&gt; List</text><!--MD5=[3a275fff9e07a90f996774ed41a75425]
link View to Shape--><path d="M708.727,502.864 C709.724,513.16 710.583,523.381 711.25,533.332 C713.937,573.398 711.378,616.887 706.937,656.413 " fill="none" id="View-&gt;Shape" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="706.328,661.712,711.3304,653.2282,706.8994,656.7448,703.3828,652.3139,706.328,661.712" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="714.25" y="547.4004">3. GetParent()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="728.75" y="562.7109">-&gt; Shape</text><!--MD5=[3a275fff9e07a90f996774ed41a75425]
link View to Shape--><path d="M619.113,502.894 C616.418,513.09 614.086,523.289 612.25,533.332 C604.848,573.824 611.417,617.165 623.096,656.415 " fill="none" id="View-&gt;Shape-1" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="624.699,661.677,625.9025,651.902,623.2418,656.8941,618.2497,654.2335,624.699,661.677" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="613.25" y="554.9004">4. SetCanvas()</text><!--MD5=[a44e52e35df32ee54df4e93f3e61978e]
link N2 to View--><path d="M454.809,353.012 C466.511,353.703 478.213,354.182 489.915,354.451 " fill="none" id="N2-View" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[a44e52e35df32ee54df4e93f3e61978e]
link N2 to View--><!--MD5=[a14f8ae3c02356bb4c4e45199a696740]
link N3 to View--><path d="M274.211,82.896 C319.11,100.227 404.245,135.218 471.25,175.332 C477.461,179.05 483.704,182.916 489.953,186.897 " fill="none" id="N3-View" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[2e4a5eff30b4d10d5d4197fe4919b1c5]
link N3 to Diagram--><path d="M237.539,83.138 C228.738,102.059 212.247,140.584 206.25,175.332 C182.083,315.363 190.969,475.874 205.028,597.515 " fill="none" id="N3-Diagram" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="450.75" y="1001"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="151" x="373.75" y="1012.7773">A "Literate Code Map" diagram</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="237" x="330.75" y="1024.5547">combines class and sequence diagrams into one.</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="350" x="274.25" y="1036.332">Plus adds code fragments, rich narrative text and numbered references.</text><!--MD5=[d90425e98ebe364b9a39380dbbb17cf2]
@startuml More complete example of a Literate Code Map - 01


header
<font color=red>Prototype of "Literate Code Maps"</font>
(c) Andy Bulka 2019

endheader

class View {
    onKeyUp()
    onClick()
    - - -
    .. def <u><b>onClick() ..

    Responsible for handling the clicl event.
    Calls <b>GetShapeList()</b> on the <b>Diagram</b> to get all the shapes, then iterates
    through them, checking each shape's parent. 

    <color:royalBlue><size:14> ..
    <color:royalBlue><size:14> for shape in self.GetDiagram().<b>GetShapeList()</b>:  <color:Red><u> 2
    <color:royalBlue><size:14>   if shape.<b>GetParent()</b> == None:  <color:Red><u>3
    <color:royalBlue><size:14>   ..

    .. def <u><b>onKeyUp</b>(self, event) ..
    
    Handles the <b>ESC</b> key being hit and switches the canvas
    <color:royalBlue><size:14> ..
    <color:royalBlue><size:14> shape.SetCanvas(None)  <color:Red><u>4
    <color:royalBlue><size:14> ..
}
class Shape {
    canvas
    parent
    - -
    <b>SetCanvas()
    <b>GetParent()
    SetBrush()
}
class Diagram <<lib.ogl._lines.py>> {
    shapes
    - - -
    <b>GetShapeList()
    <b>Render()
    Clear()
    Scan()
    .. GetShapeList() ..
    <color:royalBlue><size:14> ...
    <color:royalBlue><size:14> result = []
    <color:royalBlue><size:14> for each shape in shapes: 
    \t<i>various filtering conditions, if succesful,
    \t<i>shape gets appended to the result
    <color:royalBlue><size:14> return result

    .. Render() ..
    <i>Create fresh visualisation

    <color:royalBlue><size:14> for node in self.displaymodel.graph.nodes:
    <color:royalBlue><size:14>  assert not node.shape
    <color:royalBlue><size:14>  if isinstance(node, CommentNode) or hasattr(node, "comment"):
    <color:royalBlue><size:14>      shape = self.createCommentShape(node)  	<color:Red><u>22
    <color:royalBlue><size:14>  else:
    <color:royalBlue><size:14>      shape = self.CreateUmlShape(node)
}

class Shape {
    .. <b>SetCanvas</b>(canvas) ..
    <color:royalBlue><size:14> ...
    <color:royalBlue><size:14> self.canvas = canvas   <color:Red>4
    <color:royalBlue><size:14> ...
    .. <b>GetParent</b>() ..
    Simply a reference to the <i>.parent</i> property, 
    which is <i>None</i> if there is no parent.
    <color:royalBlue><size:14> ...
    <color:royalBlue><size:14> return self.parent
}

class Scenario1 < when user clicks on button ><< (S,#FF7700) start here >>

Scenario1 ..> View : 1. onClick()
View ..> Diagram : 2. GetShapeList()\n -> List
View ..> Shape : 3. GetParent()\n -> Shape
View ..> Shape : 4. SetCanvas()



note as N2
The creation of a comment shape
if a little different  <color:Red>22
end note
N2 . View
N2 .[hidden] View

note "The list of shapes is kept in the diagram, which the view uses" as N3
N3 .. View
N3 .. Diagram

center footer

A "Literate Code Map" diagram
combines class and sequence diagrams into one.
Plus adds code fragments, rich narrative text and numbered references.
end footer

@enduml

PlantUML version 1.2019.12(Sun Nov 03 21:24:54 AEDT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_221-b11
Operating System: Mac OS X
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>